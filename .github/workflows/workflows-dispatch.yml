name: Workflow 
on:
  push:
    branches:
      - develop
      - staging
      - main

jobs:

  repository_dispatch:

    runs-on: ubuntu-latest

    steps:
      - name: Get branch names
        id: branch-names
        uses: tj-actions/branch-names@v8
<<<<<<< HEAD
     
        # Verificar la rama de donde se hace el push
=======

        # Verifica la rama a la que se hizo push
>>>>>>> 3cf8592e52e17ec020bc6bd5565e2c3e6fb0b1e1
      - name: Get branch name
        run: |
          echo "${{ steps.branch-names.outputs.ref_branch }}"

      - uses: peter-evans/repository-dispatch@v3
        with:
           token: ${{ secrets.REPO_ACCESS_TOKEN }}
           repository: SD-MS-DevOps/IaC-DevOps
           event-type: ms-payments-${{ steps.branch-names.outputs.ref_branch }}
           client-payload: '{"ref": "${{ steps.branch-names.outputs.ref_branch }}", "sha": "${{ github.sha }}", "repository": "${{ github.repository }}"}'
